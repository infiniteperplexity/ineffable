<!DOCTYPE html>
<html lang="en-us">
  <head>
  	<script>
  	function init() {
  		var HEIGHT = 1000;
  		var WIDTH = 1000;
  		var MAX = 9;
  		var MIN = 3;
  		var words = ["looking","tree","car","around","saw","ate","car","house","tent","walked","walk","walking","thought","seemed","looked","walls","floor","ceiling"];
  		var canvas = document.getElementById("c");
  		canvas.width = WIDTH;
  		canvas.height = HEIGHT;
  		var ctx = canvas.getContext("2d");
  		ctx.fillStyle="rgba(255,255,255,1)";
		ctx.fillRect(0,0,WIDTH,HEIGHT); 
		ctx.fillStyle="#000000";
  		var y;
  		var s;
  		var r;
  		var k = 0;
  		var pixels;
  		var word;
  		var w;
  		var fail;
  		ctx.translate(WIDTH/2,HEIGHT/2);
  		for (var i = 0; i < words.length; i++) {
	  		if (k > 1000) {
		  		alert("failed.");
		  		break;
	  		}
	  		ctx.save();
	  		s = Math.pow(MAX-i*(MAX-MIN)/words.length, 2);
	  		ctx.font = "bold " + s + "px Comic Sans MS";
	  		word = words[i];
	  		w = Math.floor(ctx.measureText(word).width);
	  		r = Math.random()*2*Math.PI;
	  		ctx.rotate(r);
	  		y = Math.floor((Math.random() * (WIDTH/2))-s); 
	  		ctx.translate(0,-y);
	  		pixels = ctx.getImageData(0,-s,w,s).data;
	  		fail = false;
	  		for (var j = 0; j < pixels.length; j+=4) {
		  		if (j==0) {
			  		alert([pixels[0],pixels[1],pixels[2],pixels[3]]);
		  		}
		  		if (pixels[j]>0) {
			  		alert(pixels[j]);
			  		fail = true;
			  		break;
		  		}
	  		}
	  		if (fail == false) {
		  		if (r >= Math.PI/2 && r <= Math.PI) {
			  		ctx.rotate(-Math.PI);
		  		} else if (r >= Math.PI && r <= 3*Math.PI/2) {
			  		ctx.rotate(Math.PI);
		  		}
	  			ctx.fillText(words[i],0,0);
  			} else {
	  			i--;
	  			alert("skipped " + word);
  			}
	  		ctx.restore();
	  		k+=1;
  		}
	}
  	</script>
    <meta charset="UTF-8">
    <title>Ineffable by infiniteperplexity</title>
  </head>
  <body onload="init();">
  	<div>
  	<canvas id="c">
  	</canvas>
  	</div>
  </body>
</html>